<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<ui:composition template="/templates/main-template.xhtml">

	<ui:define name="title" style="text-align:center">
		Nie podano tytu≈Çu
	</ui:define>
	
	<ui:define name="menu">
		<div class="card">
  			<h:form>
    			<p:menubar>
      				<p:submenu label="#{txt.menu_profile_label}" icon="pi pi-fw pi-user">
          				<p:menuitem value="#{txt.menu_profile}" icon="pi pi-fw pi-eye" action="#{profile.showProfile(remoteClient.roles[0])}"/>
          				<p:menuitem value="#{txt.menu_edit_password}" icon="pi pi-fw pi-user-edit" actionListener="#{profile.showSidebar()}" update="sidebar5"/>
     				</p:submenu>
     				<p:submenu label="#{txt.menu_class_label}" icon="pi pi-fw pi-chevron-down">
      					 <ui:param name="classes" value="#{grade.getClassList(remoteClient.details.login)}" />
      					 <c:forEach items="#{classes}" var="className">
      						<p:menuitem value="#{className}" icon="pi pi-fw pi-chevron-right" action="#{grade.showAddGradePage(className)}" />
  						 </c:forEach>
      				</p:submenu>
      				<p:divider layout="vertical"/>
      				<p:menuitem value="#{txt.menu_logout}" icon="pi pi-fw pi-sign-out" action="#{login.doLogout()}"/>
    			</p:menubar>
    			
    			<p:sidebar widgetVar="sidebar5" fullScreen="true" id="sidebar5">
  					<div class="pad-50">
						<div class="main-box">
							<div class="login-style">
						<h:form id="chPWD">
							<p:growl id="growl" showDetail="true"/>
							<p:growl id="growl-sticky" for="sticky-key" showDetail="true" sticky="true" />
  					
  							
  							<p class="font-family text-normal" style="text-align: center; font-size:20px">#{txt.change_password}</p>
  							
  							<p class="font-family text-normal">#{txt.change_password_txt}</p>
  							<p:password id="passwordOne" value="#{profile.password}" class="font-family login-textfield text-normal"/>
  							<p class="font-family text-normal">#{txt.change_password_new}</p>
  							<p:password id="passwordTwo" value="#{profile.newPassword}" class="font-family login-textfield text-normal"/>
  							<p class="font-family text-normal">#{txt.change_password_new_conf}</p>
  							<p:password id="passwordThree" value="#{profile.confPassword}" class="font-family login-textfield text-normal"/>
  							
  							<p:commandButton type="submit" value="Potwierdz" process="chPWD" update="growl" action="#{profile.changePassword(remoteClient.details.login)}" style="margin-top: 20px;"/>
  						</h:form>
  					</div>
  					</div>
  					</div>
				</p:sidebar>
				
  			</h:form>
		</div>
	</ui:define>
	
	<ui:define name="content">
		
		
		<ui:insert name="pageContent"></ui:insert>
	</ui:define>
	
</ui:composition>
</html>